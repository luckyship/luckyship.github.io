"use strict";var ge1doot=ge1doot||{json:null,screen:null,pointer:null,camera:null,loadJS:function(t,e,i){"string"==typeof t&&(t=[t]);for(var s=0,n=t.length;s<n;s++)!function(t){var s=document.createElement("script");e&&(s.readyState?s.onreadystatechange=function(){"loaded"!=s.readyState&&"complete"!=s.readyState||(s.onreadystatechange=null,0==--n&&e(i||!1))}:s.onload=function(){0==--n&&e(i||!1)}),s.src=t,document.getElementsByTagName("head")[0].appendChild(s)}(t[s])}};ge1doot.Screen=function(t){ge1doot.screen=this,this.elem=document.getElementById(t.container)||t.container,this.ctx="CANVAS"==this.elem.tagName&&this.elem.getContext("2d"),this.style=this.elem.style,this.left=0,this.top=0,this.width=0,this.height=0,this.cursor="default",this.setup=t,this.resize=function(){var t=this.elem;for(this.width=t.offsetWidth,this.height=t.offsetHeight,this.left=0,this.top=0;null!=t;t=t.offsetParent)this.left+=t.offsetLeft,this.top+=t.offsetTop;this.ctx&&(this.elem.width=this.width,this.elem.height=this.height),this.setup.resize&&this.setup.resize()},this.setCursor=function(t){t!==this.cursor&&"ontouchstart"in window==!1&&(this.cursor=t,this.style.cursor=t)},window.addEventListener("resize",function(){ge1doot.screen.resize()},!1),!this.setup.resize&&this.resize()},ge1doot.Pointer=function(t){ge1doot.pointer=this;var e=this,i=document.body,s=document.documentElement;this.setup=t,this.screen=ge1doot.screen,this.elem=this.screen.elem,this.X=0,this.Y=0,this.Xi=0,this.Yi=0,this.bXi=0,this.bYi=0,this.Xr=0,this.Yr=0,this.startX=0,this.startY=0,this.scale=0,this.wheelDelta=0,this.isDraging=!1,this.hasMoved=!1,this.isDown=!1,this.evt=!1;var n=0,o=0;if(t.tap&&(this.elem.onclick=function(){return!1}),t.documentMove||(document.ontouchmove=function(t){t.preventDefault()}),document.addEventListener("MSHoldVisual",function(t){t.preventDefault()},!1),void 0!==this.elem.style.msTouchAction&&(this.elem.style.msTouchAction="none"),this.pointerDown=function(t){this.isDown||(this.elem.setCapture&&this.elem.setCapture(),this.isDraging=!1,this.hasMoved=!1,this.isDown=!0,this.evt=t,this.Xr=void 0!==t.clientX?t.clientX:t.touches[0].clientX,this.Yr=void 0!==t.clientY?t.clientY:t.touches[0].clientY,this.X=n=this.Xr-this.screen.left,this.Y=o=this.Yr-this.screen.top+(s&&s.scrollTop||i.scrollTop),this.setup.down&&this.setup.down(t))},this.pointerMove=function(t){this.Xr=void 0!==t.clientX?t.clientX:t.touches[0].clientX,this.Yr=void 0!==t.clientY?t.clientY:t.touches[0].clientY,this.X=this.Xr-this.screen.left,this.Y=this.Yr-this.screen.top+(s&&s.scrollTop||i.scrollTop),this.isDown&&(this.Xi=this.bXi+(this.X-n),this.Yi=this.bYi-(this.Y-o)),(Math.abs(this.X-n)>11||Math.abs(this.Y-o)>11)&&(this.hasMoved=!0,this.isDown?this.isDraging?this.setup.drag&&this.setup.drag(t):(this.startX=n,this.startY=o,this.setup.startDrag&&this.setup.startDrag(t),this.isDraging=!0):(n=this.X,o=this.Y)),this.setup.move&&this.setup.move(t)},this.pointerUp=function(t){this.bXi=this.Xi,this.bYi=this.Yi,this.hasMoved?this.setup.up&&this.setup.up(this.evt):(this.X=n,this.Y=o,this.setup.tap&&this.setup.tap(this.evt)),this.isDraging=!1,this.isDown=!1,this.hasMoved=!1,this.setup.up&&this.setup.up(this.evt),this.elem.releaseCapture&&this.elem.releaseCapture(),this.evt=!1},this.pointerCancel=function(t){this.elem.releaseCapture&&this.elem.releaseCapture(),this.isDraging=!1,this.hasMoved=!1,this.isDown=!1,this.bXi=this.Xi,this.bYi=this.Yi,n=0,o=0},"ontouchstart"in window&&(this.elem.ontouchstart=function(t){return e.pointerDown(t),!1},this.elem.ontouchmove=function(t){return e.pointerMove(t),!1},this.elem.ontouchend=function(t){return e.pointerUp(t),!1},this.elem.ontouchcancel=function(t){return e.pointerCancel(t),!1}),document.addEventListener("mousedown",function(t){(t.target===e.elem||t.target.parentNode&&t.target.parentNode===e.elem||t.target.parentNode.parentNode&&t.target.parentNode.parentNode===e.elem)&&(void 0!==t.stopPropagation?t.stopPropagation():t.cancelBubble=!0,t.preventDefault(),e.pointerDown(t))},!1),document.addEventListener("mousemove",function(t){e.pointerMove(t)},!1),document.addEventListener("mouseup",function(t){e.pointerUp(t)},!1),document.addEventListener("gesturechange",function(t){return t.preventDefault(),t.scale>1?e.scale=.1:t.scale<1?e.scale=-.1:e.scale=0,e.setup.scale&&e.setup.scale(t),!1},!1),window.navigator.msPointerEnabled){var h=0,r=new MSGesture;r.target=this.elem,this.elem.addEventListener("MSPointerDown",function(t){t.pointerType==t.MSPOINTER_TYPE_TOUCH&&(r.addPointer(t.pointerId),h++)},!1),this.elem.addEventListener("MSPointerOut",function(t){t.pointerType==t.MSPOINTER_TYPE_TOUCH&&h--},!1),this.elem.addEventListener("MSGestureHold",function(t){t.preventDefault()},!1),this.elem.addEventListener("MSGestureChange",function(t){return h>1&&(t.preventDefault&&t.preventDefault(),e.scale=t.velocityExpansion,e.setup.scale&&e.setup.scale(t)),!1},!1)}window.addEventListener&&this.elem.addEventListener("DOMMouseScroll",function(t){return t.preventDefault&&t.preventDefault(),e.wheelDelta=10*t.detail,e.setup.wheel&&e.setup.wheel(t),!1},!1),this.elem.onmousewheel=function(){return e.wheelDelta=.25*-event.wheelDelta,e.setup.wheel&&e.setup.wheel(event),!1}},window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){window.setTimeout(t,16)}}();"use strict";var ge1doot=ge1doot||{json:null,screen:null,pointer:null,camera:null,loadJS:function(t,e,i){"string"==typeof t&&(t=[t]);for(var s=0,n=t.length;s<n;s++)!function(t){var s=document.createElement("script");e&&(s.readyState?s.onreadystatechange=function(){"loaded"!=s.readyState&&"complete"!=s.readyState||(s.onreadystatechange=null,0==--n&&e(i||!1))}:s.onload=function(){0==--n&&e(i||!1)}),s.src=t,document.getElementsByTagName("head")[0].appendChild(s)}(t[s])}};ge1doot.Screen=function(t){ge1doot.screen=this,this.elem=document.getElementById(t.container)||t.container,this.ctx="CANVAS"==this.elem.tagName&&this.elem.getContext("2d"),this.style=this.elem.style,this.left=0,this.top=0,this.width=0,this.height=0,this.cursor="default",this.setup=t,this.resize=function(){var t=this.elem;for(this.width=t.offsetWidth,this.height=t.offsetHeight,this.left=0,this.top=0;null!=t;t=t.offsetParent)this.left+=t.offsetLeft,this.top+=t.offsetTop;this.ctx&&(this.elem.width=this.width,this.elem.height=this.height),this.setup.resize&&this.setup.resize()},this.setCursor=function(t){t!==this.cursor&&"ontouchstart"in window==!1&&(this.cursor=t,this.style.cursor=t)},window.addEventListener("resize",function(){ge1doot.screen.resize()},!1),!this.setup.resize&&this.resize()},ge1doot.Pointer=function(t){ge1doot.pointer=this;var e=this,i=document.body,s=document.documentElement;this.setup=t,this.screen=ge1doot.screen,this.elem=this.screen.elem,this.X=0,this.Y=0,this.Xi=0,this.Yi=0,this.bXi=0,this.bYi=0,this.Xr=0,this.Yr=0,this.startX=0,this.startY=0,this.scale=0,this.wheelDelta=0,this.isDraging=!1,this.hasMoved=!1,this.isDown=!1,this.evt=!1;var n=0,o=0;if(t.tap&&(this.elem.onclick=function(){return!1}),t.documentMove||(document.ontouchmove=function(t){t.preventDefault()}),document.addEventListener("MSHoldVisual",function(t){t.preventDefault()},!1),void 0!==this.elem.style.msTouchAction&&(this.elem.style.msTouchAction="none"),this.pointerDown=function(t){this.isDown||(this.elem.setCapture&&this.elem.setCapture(),this.isDraging=!1,this.hasMoved=!1,this.isDown=!0,this.evt=t,this.Xr=void 0!==t.clientX?t.clientX:t.touches[0].clientX,this.Yr=void 0!==t.clientY?t.clientY:t.touches[0].clientY,this.X=n=this.Xr-this.screen.left,this.Y=o=this.Yr-this.screen.top+(s&&s.scrollTop||i.scrollTop),this.setup.down&&this.setup.down(t))},this.pointerMove=function(t){this.Xr=void 0!==t.clientX?t.clientX:t.touches[0].clientX,this.Yr=void 0!==t.clientY?t.clientY:t.touches[0].clientY,this.X=this.Xr-this.screen.left,this.Y=this.Yr-this.screen.top+(s&&s.scrollTop||i.scrollTop),this.isDown&&(this.Xi=this.bXi+(this.X-n),this.Yi=this.bYi-(this.Y-o)),(Math.abs(this.X-n)>11||Math.abs(this.Y-o)>11)&&(this.hasMoved=!0,this.isDown?this.isDraging?this.setup.drag&&this.setup.drag(t):(this.startX=n,this.startY=o,this.setup.startDrag&&this.setup.startDrag(t),this.isDraging=!0):(n=this.X,o=this.Y)),this.setup.move&&this.setup.move(t)},this.pointerUp=function(t){this.bXi=this.Xi,this.bYi=this.Yi,this.hasMoved?this.setup.up&&this.setup.up(this.evt):(this.X=n,this.Y=o,this.setup.tap&&this.setup.tap(this.evt)),this.isDraging=!1,this.isDown=!1,this.hasMoved=!1,this.setup.up&&this.setup.up(this.evt),this.elem.releaseCapture&&this.elem.releaseCapture(),this.evt=!1},this.pointerCancel=function(t){this.elem.releaseCapture&&this.elem.releaseCapture(),this.isDraging=!1,this.hasMoved=!1,this.isDown=!1,this.bXi=this.Xi,this.bYi=this.Yi,n=0,o=0},"ontouchstart"in window&&(this.elem.ontouchstart=function(t){return e.pointerDown(t),!1},this.elem.ontouchmove=function(t){return e.pointerMove(t),!1},this.elem.ontouchend=function(t){return e.pointerUp(t),!1},this.elem.ontouchcancel=function(t){return e.pointerCancel(t),!1}),document.addEventListener("mousedown",function(t){(t.target===e.elem||t.target.parentNode&&t.target.parentNode===e.elem||t.target.parentNode.parentNode&&t.target.parentNode.parentNode===e.elem)&&(void 0!==t.stopPropagation?t.stopPropagation():t.cancelBubble=!0,t.preventDefault(),e.pointerDown(t))},!1),document.addEventListener("mousemove",function(t){e.pointerMove(t)},!1),document.addEventListener("mouseup",function(t){e.pointerUp(t)},!1),document.addEventListener("gesturechange",function(t){return t.preventDefault(),t.scale>1?e.scale=.1:t.scale<1?e.scale=-.1:e.scale=0,e.setup.scale&&e.setup.scale(t),!1},!1),window.navigator.msPointerEnabled){var h=0,r=new MSGesture;r.target=this.elem,this.elem.addEventListener("MSPointerDown",function(t){t.pointerType==t.MSPOINTER_TYPE_TOUCH&&(r.addPointer(t.pointerId),h++)},!1),this.elem.addEventListener("MSPointerOut",function(t){t.pointerType==t.MSPOINTER_TYPE_TOUCH&&h--},!1),this.elem.addEventListener("MSGestureHold",function(t){t.preventDefault()},!1),this.elem.addEventListener("MSGestureChange",function(t){return h>1&&(t.preventDefault&&t.preventDefault(),e.scale=t.velocityExpansion,e.setup.scale&&e.setup.scale(t)),!1},!1)}window.addEventListener&&this.elem.addEventListener("DOMMouseScroll",function(t){return t.preventDefault&&t.preventDefault(),e.wheelDelta=10*t.detail,e.setup.wheel&&e.setup.wheel(t),!1},!1),this.elem.onmousewheel=function(){return e.wheelDelta=.25*-event.wheelDelta,e.setup.wheel&&e.setup.wheel(event),!1}},window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){window.setTimeout(t,16)}}();