<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <meta name="renderer" content="webkit">
  <meta http-equiv="X-UA-Compatible" content="IE=edge" >
  <script src="/js/av-min.js"></script>

  <script>
    AV.init({
      appId: '3d3mgdb7guWJsXLE6mWY3Cyn-gzGzoHsz',
      appKey: 'fstd3ABXC89jc5VDSe6ANGV6',
      serverURLs: {
        push: "https://leancloud.cn",
        stats: "https://leancloud.cn",
        engine: "https://leancloud.cn",
        api: "https://leancloud.cn",
      },
    });
  </script>
  <script async src="/main/js/slider.66b399.js"></script><script async src="/main/js/main.a76a5f.js"></script><script async src="/main/js/mobile.57dfe3.js"></script><script async src="https://www.googletagmanager.com/gtag/js?id=G-GWM1JLMFWH"></script><script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-GWM1JLMFWH")</script>

  <link rel="dns-prefetch" href="https://luckyship.github.io">
  <title>unicode中文字节为什么有的占2个有的占3个 | luckyship</title>
  <meta name="generator" content="hexo-theme-luckyship">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  
  <meta name="description" content="本文为掘金文章转载 背景上周在评审测试用例时，有一个营销话术的接口字段，业务上要求不能超过 200 字，会上有人问，后端数据表中的这个字段，最多能存储多少个中文字符，有没有对存储字数做限制。我插入了一句，那要看数据表中这个字段定义的是什么数据类型（CHAR、VARCHAR，TEXT 等），一个中文占两个字节，用这种数据类型的字节数除以 2，就是能存储的中文字符数。然后另一个同事说，UTF-8 编码">
<meta property="og:type" content="article">
<meta property="og:title" content="unicode中文字节为什么有的占2个有的占3个">
<meta property="og:url" content="https://luckyship.github.io/2023/12/11/2023-12-11-unicode/index.html">
<meta property="og:site_name" content="luckyship">
<meta property="og:description" content="本文为掘金文章转载 背景上周在评审测试用例时，有一个营销话术的接口字段，业务上要求不能超过 200 字，会上有人问，后端数据表中的这个字段，最多能存储多少个中文字符，有没有对存储字数做限制。我插入了一句，那要看数据表中这个字段定义的是什么数据类型（CHAR、VARCHAR，TEXT 等），一个中文占两个字节，用这种数据类型的字节数除以 2，就是能存储的中文字符数。然后另一个同事说，UTF-8 编码">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://luckyship.github.io/img/2023-12-11-unicode/1.jpg">
<meta property="og:image" content="https://luckyship.github.io/img/2023-12-11-unicode/2.jpg">
<meta property="og:image" content="https://luckyship.github.io/img/2023-12-11-unicode/3.jpg">
<meta property="og:image" content="https://luckyship.github.io/img/2023-12-11-unicode/4.jpg">
<meta property="og:image" content="https://luckyship.github.io/img/2023-12-11-unicode/4.5.jpg">
<meta property="og:image" content="https://luckyship.github.io/img/2023-12-11-unicode/5.jpg">
<meta property="og:image" content="https://luckyship.github.io/img/2023-12-11-unicode/6.jpg">
<meta property="og:image" content="https://luckyship.github.io/img/2023-12-11-unicode/7.jpg">
<meta property="og:image" content="https://luckyship.github.io/img/2023-12-11-unicode/8.jpg">
<meta property="og:image" content="https://luckyship.github.io/img/2023-12-11-unicode/9.jpg">
<meta property="article:published_time" content="2023-12-11T08:16:50.000Z">
<meta property="article:modified_time" content="2025-08-02T05:46:04.182Z">
<meta property="article:author" content="luckyship">
<meta property="article:tag" content="unicode">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://luckyship.github.io/img/2023-12-11-unicode/1.jpg">
  
    <link rel="alternative" href="/atom.xml" title="luckyship" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.ico">
  
  
    <link rel="apple-touch-icon" href="/apple-touch-icon-180x180.png">
  
  <link rel="stylesheet" type="text/css" href="/main/css/index.a76a5f.css">
  <style type="text/css">
    
    #container.show {
      background: linear-gradient(200deg,#a0cfe4,#e8c37e);
    }
  </style>
  

  

  
    
 	  <script async src="/lib/clickLove.js"></script>
  
  

<script>
  (function () {
    var bp = document.createElement('script');
    var curProtocol = window.location.protocol.split(':')[0];
    if (curProtocol === 'https') {
      bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
    } else {
      bp.src = 'http://push.zhanzhang.baidu.com/push.js';
    }
    var s = document.getElementsByTagName("script")[0];
    s.parentNode.insertBefore(bp, s);
  })();

</script>



  

</head>


<body>
  <div id="container" q-class="show:isCtnShow">
    <canvas id="anm-canvas" class="anm-canvas"></canvas>
    <div class="left-col" q-class="show:isShow">
      


<div class="overlay" style="background: #4d4d4d;"></div>
<div class="intrude-less">
	<header id="header" class="inner">
		<a href="/" class="profilepic">
			<img src="/img/head.jpg" class="js-avatar">
		</a>
		<hgroup>
			<h1 class="header-author"><a href="/">luckyship</a></h1>
		</hgroup>
		

		<nav class="header-menu">
			<ul>
			
				<li><a href="/" >主页</a></li>
			
				<li><a href="/archives" >归档</a></li>
			
				<li><a href="/comment/" >留言板</a></li>
			
				<li><a href="/website/" >知识库</a></li>
			
			</ul>
		</nav>
		<nav class="header-smart-menu">
			
				
					<a q-on="click: openSlider(e, 'innerArchive')" href="javascript:void(0)">搜索</a>
				
			
				
					<a q-on="click: openSlider(e, 'aboutme')" href="javascript:void(0)">关于我</a>
				
			
            </nav>

		<nav class="header-nav">
			<div class="social">
				
					<a class="github" target="_blank" rel="noopener" href="https://github.com/luckyship" title="GitHub" ><i class="icon-github"></i></a>
				
					<a class="gitee" target="_blank" rel="noopener" href="https://gitee.com/luckyship" title="gitee" ><i class="icon-gitee"></i></a>
				
					<a class="blog" target="_blank" rel="noopener" href="https://juejin.cn/user/730534951787662/posts" title="blog" ><i class="icon-blog"></i></a>
				
					<a class="csdn" target="_blank" rel="noopener" href="https://blog.csdn.net/sinat_38319625" title="CSDN" ><i class="icon-csdn"></i></a>
				
			</div>
		
		</nav>

		
		  <nav>
			
  <div id="toc" class="toc-article">
    <div class="toc-title">目录</div>
    <ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%83%8C%E6%99%AF"><span class="toc-number">1.</span> <span class="toc-text">背景</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%80%E7%9F%B3%E6%BF%80%E8%B5%B7%E5%8D%83%E5%B1%82%E6%B5%AA"><span class="toc-number">2.</span> <span class="toc-text">一石激起千层浪</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BC%98%E8%B5%B7-ASCII-%E7%A0%81"><span class="toc-number">3.</span> <span class="toc-text">缘起 ASCII 码</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%90%84%E5%9B%BD%E8%A1%8D%E7%94%9F%E8%87%AA%E5%B7%B1%E7%9A%84%E7%BC%96%E7%A0%81"><span class="toc-number">4.</span> <span class="toc-text">各国衍生自己的编码</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Unicode-%E7%A0%81%E7%BB%9F%E4%B8%80%E4%B9%B1%E5%B1%80"><span class="toc-number">5.</span> <span class="toc-text">Unicode 码统一乱局</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Unicode-%E6%8E%A8%E8%A1%8C%E8%BF%87%E7%A8%8B%E4%B8%AD%E9%81%87%E5%88%B0%E7%9A%84%E9%97%AE%E9%A2%98"><span class="toc-number">6.</span> <span class="toc-text">Unicode 推行过程中遇到的问题</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#UTF-8-%E9%97%AE%E4%B8%96"><span class="toc-number">7.</span> <span class="toc-text">UTF-8 问世</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#UTF-8-BOM-%E6%A6%82%E5%BF%B5%E8%A7%A3%E6%9E%90"><span class="toc-number">8.</span> <span class="toc-text">UTF-8 BOM 概念解析</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%9B%B8%E5%AF%B9%E5%A4%8D%E6%9D%82%E7%9A%84-UTF-16-%E7%BC%96%E7%A0%81"><span class="toc-number">9.</span> <span class="toc-text">相对复杂的 UTF-16 编码</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%9C%80%E5%A5%BD%E7%90%86%E8%A7%A3%E7%9A%84-UTF-32"><span class="toc-number">10.</span> <span class="toc-text">最好理解的 UTF-32</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%BA%E4%BB%80%E4%B9%88-UTF-8-%E4%B8%8D%E9%9C%80%E8%A6%81%E5%AD%97%E8%8A%82%E5%BA%8F-UTF-16-UTF-32-%E9%9C%80%E8%A6%81%E5%AD%97%E8%8A%82%E5%BA%8F%EF%BC%9F"><span class="toc-number">11.</span> <span class="toc-text">为什么 UTF-8 不需要字节序,UTF-16,UTF-32 需要字节序？</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Unicode%E3%80%81UTF-8%E3%80%81UTF-16%E3%80%81UTF-32-%E5%8C%BA%E5%88%AB"><span class="toc-number">12.</span> <span class="toc-text">Unicode、UTF-8、UTF-16、UTF-32 区别?</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B9%B1%E7%A0%81%E9%97%AE%E9%A2%98%E5%88%86%E6%9E%90"><span class="toc-number">13.</span> <span class="toc-text">乱码问题分析</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#MySQL-%E4%B8%AD%E4%B8%80%E4%B8%AA%E4%B8%AD%E6%96%87%E5%8D%A0%E7%94%A8%E5%87%A0%E4%B8%AA%E5%AD%97%E8%8A%82"><span class="toc-number">14.</span> <span class="toc-text">MySQL 中一个中文占用几个字节</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#varchar-n-%E8%83%BD%E5%AD%98%E5%82%A8%E5%87%A0%E4%B8%AA%E6%B1%89%E5%AD%97%EF%BC%9F"><span class="toc-number">14.1.</span> <span class="toc-text">varchar(n)能存储几个汉字？</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%80%E4%B8%AA%E4%B8%AD%E6%96%87%E6%B1%89%E5%AD%97%E5%8D%A0%E5%A4%9A%E5%B0%91%E5%AD%97%E8%8A%82%E4%B8%8E%E7%BC%96%E7%A0%81%E6%9C%89%E5%85%B3"><span class="toc-number">14.2.</span> <span class="toc-text">一个中文汉字占多少字节与编码有关</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Unicode-%E7%AE%80%E4%BD%93%E4%B8%AD%E6%96%87%E5%AD%97%E7%AC%A6%E9%9B%86%E8%8C%83%E5%9B%B4"><span class="toc-number">14.3.</span> <span class="toc-text">Unicode 简体中文字符集范围</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%BD%AC%E8%BD%BD"><span class="toc-number">15.</span> <span class="toc-text">转载</span></a></li></ol>
  </div>


		  </nav>
		
	</header>
</div>

    </div>
    <div class="mid-col" q-class="show:isShow,hide:isShow|isFalse">
      
      
      <a class="forkMe" style="position:absolute;z-index:999;top:0;right:0.5em;"
        href="https://github.com/luckyship/myblog" target="_blank">
        <img src="/img/forkme.png"
          class="attachment-full size-full" alt="Fork me on GitHub" data-recalc-dims="1"></a>
      
      
<nav id="mobile-nav">
  	<div class="overlay js-overlay" style="background: #4d4d4d"></div>
	<div class="btnctn js-mobile-btnctn">
  		<div class="slider-trigger list" q-on="click: openSlider(e)"><i class="icon icon-sort"></i></div>
	</div>
	<div class="intrude-less">
		<header id="header" class="inner">
			<div class="profilepic">
				<a href="/">
					<img src="/img/head.jpg" class="js-avatar">
				</a>
			</div>
			<hgroup>
			  <h1 class="header-author js-header-author">luckyship</h1>
			</hgroup>
			
			
			
				
			
				
			
				
			
				
			
			
			
			<nav class="header-nav">
				<div class="social">
					
						<a class="github" target="_blank" href="https://github.com/luckyship" title="GitHub"><i class="icon-github"></i></a>
			        
						<a class="gitee" target="_blank" href="https://gitee.com/luckyship" title="gitee"><i class="icon-gitee"></i></a>
			        
						<a class="blog" target="_blank" href="https://juejin.cn/user/730534951787662/posts" title="blog"><i class="icon-blog"></i></a>
			        
						<a class="csdn" target="_blank" href="https://blog.csdn.net/sinat_38319625" title="CSDN"><i class="icon-csdn"></i></a>
			        
				</div>
			</nav>

			<nav class="header-menu js-header-menu">
				<ul style="width: 70%">
				
				
					<li style="width: 25%"><a href="/">主页</a></li>
		        
					<li style="width: 25%"><a href="/archives">归档</a></li>
		        
					<li style="width: 25%"><a href="/comment/">留言板</a></li>
		        
					<li style="width: 25%"><a href="/website/">知识库</a></li>
		        
				</ul>
			</nav>
		</header>				
	</div>
	<div class="mobile-mask" style="display:none" q-show="isShow"></div>
</nav>

      <div id="wrapper" class="body-wrap">
        <div class="menu-l">
          <div class="canvas-wrap">
            <canvas data-colors="#eaeaea" data-sectionHeight="100" data-contentId="js-content" id="myCanvas1"
              class="anm-canvas"></canvas>
          </div>
          <div id="js-content" class="content-ll">
            <article id="post-2023-12-11-unicode" class="article article-type-post " itemscope itemprop="blogPost">
  <div class="article-inner">
    
      <header class="article-header">
  
  
    <h1 class="article-title" itemprop="name">
      unicode中文字节为什么有的占2个有的占3个
    </h1>
  


  
   
<span id="busuanzi_container_page_pv" style="display: none" class="archive-article-date">
  <i class="icon-smile icon"></i> 阅读数：<span id="busuanzi_value_page_pv"></span>次
</span>


<a href="/2023/12/11/2023-12-11-unicode/" class="archive-article-date">
  <!-- <time datetime="2023-12-11T08:16:50.000Z" title="发布时间" itemprop="datePublished"><i class="icon-calendar icon"></i>2023-12-11</time>
        <time datetime="2025-08-02T05:46:04.182Z" title="最后更新" itemprop="datePublished">
                <svg t="1614416122145" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="535" width="16" height="16"><path d="M887.786 1021.4h-757.804c-69.761 0-126.276-56.637-126.276-126.397v-758.23c0-69.822 57.419-132.402 127.121-132.402h508.511v63.547h-508.511c-34.85 0-63.968 33.886-63.968 68.854v758.262c0 34.91 28.273 63.212 63.094 63.212h757.835c34.82 0 69.341-29.058 69.341-63.968v-508.512h63.605v508.486c0 69.853-63.242 127.153-132.946 127.153z" p-id="536" fill="#999999"></path><path d="M969.708 166.041l-111.61-111.673c-24.682-24.68-64.635-24.68-89.315 0l-491.163 491.497c-9.234 9.23-13.849 20.849-16.143 32.768l-136.716 276.63c-11.434 31.109 13.516 59.050 44.597 44.659l276.51-136.776c11.919-2.355 23.505-6.942 32.676-16.172l491.163-491.558c24.653-24.68 24.653-64.691 0-89.374zM207.56 839.423c-15.541 7.148-29.57-7.755-22.297-22.33l103.345-170.842 89.676 89.706-170.722 103.465zM433.89 702.284c-41.852-41.88-99.755-99.843-111.612-111.73l356.441-356.649 112.426 110.946-357.254 357.434zM902.756 233.086l-66.984 67.046-110.013-113.303 65.388-65.445c12.279-12.312 32.347-12.312 44.626 0l66.986 67.015c12.311 12.402 12.311 32.375 0 44.687z" p-id="537" fill="#999999"></path></svg>
                2025-08-02</time> -->

  
  <time datetime="2025-08-02T05:46:04.182Z" title="最后更新" itemprop="datePublished">
    <svg
      t="1614416122145"
      viewBox="0 0 1024 1024"
      version="1.1"
      xmlns="http://www.w3.org/2000/svg"
      p-id="535"
      width="16"
      height="16"
    >
      <path
        d="M887.786 1021.4h-757.804c-69.761 0-126.276-56.637-126.276-126.397v-758.23c0-69.822 57.419-132.402 127.121-132.402h508.511v63.547h-508.511c-34.85 0-63.968 33.886-63.968 68.854v758.262c0 34.91 28.273 63.212 63.094 63.212h757.835c34.82 0 69.341-29.058 69.341-63.968v-508.512h63.605v508.486c0 69.853-63.242 127.153-132.946 127.153z"
        p-id="536"
        fill="#999999"
      ></path>
      <path
        d="M969.708 166.041l-111.61-111.673c-24.682-24.68-64.635-24.68-89.315 0l-491.163 491.497c-9.234 9.23-13.849 20.849-16.143 32.768l-136.716 276.63c-11.434 31.109 13.516 59.050 44.597 44.659l276.51-136.776c11.919-2.355 23.505-6.942 32.676-16.172l491.163-491.558c24.653-24.68 24.653-64.691 0-89.374zM207.56 839.423c-15.541 7.148-29.57-7.755-22.297-22.33l103.345-170.842 89.676 89.706-170.722 103.465zM433.89 702.284c-41.852-41.88-99.755-99.843-111.612-111.73l356.441-356.649 112.426 110.946-357.254 357.434zM902.756 233.086l-66.984 67.046-110.013-113.303 65.388-65.445c12.279-12.312 32.347-12.312 44.626 0l66.986 67.015c12.311 12.402 12.311 32.375 0 44.687z"
        p-id="537"
        fill="#999999"
      ></path>
    </svg>
    <span >
      2023-12-11
      <span style="font-size: 10px"> (更新于2025-08-02)
    </span>
  </time>
  
</a>

  
  
    
<div style="margin-top:10px;">
  <span class="post-time">
    <span class="post-meta-item-icon">
      <!-- fonts.scss -->
      <!-- 百度字体平台:http://fontstore.baidu.com/static/editor/index.html -->
      <i class="icon-statistics"></i>
      <span class="post-meta-item-text"> 字数统计:</span>
      <span class="post-count">5.1k字</span>
    </span>
  </span>

  <span class="post-time">
    &nbsp; | &nbsp;
    <span class="post-meta-item-icon">
      <i class="icon-book icon"></i>
      <span class="post-meta-item-text"> 阅读时长≈</span>
      <span class="post-count">18分</span>
    </span>
  </span>
</div>


  
  </header>
  
  <div class="article-entry" itemprop="articleBody">
    
    <p>本文为掘金文章转载</p>
<h3 id="背景"><a href="#背景" class="headerlink" title="背景"></a>背景</h3><p>上周在评审测试用例时，有一个营销话术的接口字段，业务上要求不能超过 200 字，会上有人问，后端数据表中的这个字段，最多能存储多少个中文字符，有没有对存储字数做限制。我插入了一句，那要看数据表中这个字段定义的是什么数据类型（CHAR、VARCHAR，TEXT 等），一个中文占两个字节，用这种数据类型的字节数除以 2，就是能存储的中文字符数。然后另一个同事说，UTF-8 编码，一个中文占用 3 个字节。这句话颠覆了我之前的认知，在我的印象里，一个中文占用两个字节，怎么会是三个。我决定查一查，看看谁对谁错。</p>
<h3 id="一石激起千层浪"><a href="#一石激起千层浪" class="headerlink" title="一石激起千层浪"></a>一石激起千层浪</h3><p>本以为搜索一下就能获得答案，可是发现这个知识点，有些渊源，一言难尽。说得太概括，人难免还是会有疑问。需要追根溯源，才能讲清楚。在查找答案的过程中，发现网上的文章良莠不齐，对于同一个知识点，不同的文章说法相互矛盾，让人思维有些凌乱，对于这种情况，我选择取这些文章的交集，摒弃矛盾与冲突。</p>
<span id="more"></span>

<h3 id="缘起-ASCII-码"><a href="#缘起-ASCII-码" class="headerlink" title="缘起 ASCII 码"></a>缘起 ASCII 码</h3><p>字符编码的起源，是为了解决在计算机中存储与表达特定字符的问题。比如说英文字母 A, 如何表达才能让计算机能够识别。众所周知，在计算机底层只识别 0 和 1。当计算机要存储/展示字符时，需要一个规则，在字符和 0/1 序列之间建立映射关系，这就是字符编码规则。</p>
<p>1945 年世界第一台计算机诞生于美国，所以美国人第一个遇到字符编码问题。自然而然第一个编码规则也是美国人制定的。美国使用的是英语，英语字符数量比较少，26 个英文字母+数字+标点符号。一个字节是 8 位，如果每一个状态对应一个特定字符，每个二进制位有<code>0</code>和<code>1</code>两种取值，可以组合出 256 个字符，足够英语语境使用了。最早的字符编码标准就这样诞生了。美国人起草了计算机的第一份字符集和编码标准，叫 ASCII（American Standard Code for Information Interchange–美国信息交换标准代码），一共规定了 128 个字符及对应的二进制转换关系，128 个字符包括了可显示的 26 个字母（大小写）、10 个数字、标点符号以及特殊的控制符，也就是英语与西欧语言中常见的字符。1967 年定案，最初是美国国家标准，后来被国际标准化组织 ISO(International Organization for Standardization)定为国际标准，称为 ISO 646 标准，适用于所有拉丁文字字母。</p>
<p><img src="/img/2023-12-11-unicode/1.jpg" alt="image.png"></p>
<h3 id="各国衍生自己的编码"><a href="#各国衍生自己的编码" class="headerlink" title="各国衍生自己的编码"></a>各国衍生自己的编码</h3><p>计算机在世界普及之后，人们发现，在英语国家，128 个字符编码够用了，但是对于非英语国家，无法在 ASCII 字符集中找到本国的基本字符。如在法语中，字母上方有注音符号，无法用 ASCII 码表示。于是有人建议，ASCII 字符只是使用了一个字节的前 128 个，后面的 128 个完全可以利用起来，于是一些欧洲国家就决定，利用字节中闲置的最高位编入新的符号。比如，法语中的 <code>é</code> 的编码为 130（二进制 <code>10000010</code>）。这样一来，这些欧洲国家使用的编码体系，可以最多表示 256 个符号。</p>
<p>但是又出现了新的问题。不同国家有不同的字母(参见下图,英语，法语属于拉丁字母体系，俄语属于斯拉夫字母体系，以色列用的是希伯来字母)，它们都使用 256 个符号的编码方式，代表的字母却不一样。比如，130 在法语编码中代表了 <code>é</code>，在希伯来语编码中却代表了字母 <code>Gimel</code> (<code>ג</code>)，在俄语编码中又代表另一个符号。128-255 之间不同的字符集导致人们无法跨机器传播交流各种信息。</p>
<p><img src="/img/2023-12-11-unicode/2.jpg" alt="image.png"></p>
<p>至于亚洲国家的文字，使用的符号就更多了，最典型就是中文，汉字多达 10 万左右。常用汉字有 6000 个左右，用一个字节是无法表示的，所以也发展出了自己的一套编码规范：</p>
<ul>
<li>1980 年，中国搞了自己的编码方案<a href="https://link.juejin.cn/?target=https://openstd.samr.gov.cn/bzgk/gb/newGbInfo?hcno=5664A728BD9D523DE3B99BC37AC7A2CC" title="https://openstd.samr.gov.cn/bzgk/gb/newGbInfo?hcno=5664A728BD9D523DE3B99BC37AC7A2CC"> GB/T 2312</a>，一般简称 GB2312。</li>
<li>1993 年，国际标准化组织 ISO 制定了编码标准 <a href="https://link.juejin.cn/?target=https://www.iso.org/standard/18741.html" title="https://www.iso.org/standard/18741.html">ISO/IEC 10646-1:1993</a>，国内予以承认，并编号为 <a href="https://link.juejin.cn/?target=https://openstd.samr.gov.cn/bzgk/gb/newGbInfo?hcno=48A2A707F0A3CEC495BD6277EDDA0F9F" title="https://openstd.samr.gov.cn/bzgk/gb/newGbInfo?hcno=48A2A707F0A3CEC495BD6277EDDA0F9F">GB 13000.1-1993</a>。</li>
<li>1995 年，国内基于 GB2312 扩展了一套编码方案 <a href="https://link.juejin.cn/?target=https://en.wikipedia.org/wiki/GBK_(character_encoding)" title="https://en.wikipedia.org/wiki/GBK_(character_encoding)">GBK</a>（汉字内码扩展规范），并收录了 GB13000.1 和 <a href="https://link.juejin.cn/?target=https://en.wikipedia.org/wiki/Big5" title="https://en.wikipedia.org/wiki/Big5">Big5</a>（由台湾资讯工业策进会在 1984 年制定）中的汉字，微软在 Windows 95、Windows NT 3.51 中进行了实现，称为 <a href="https://link.juejin.cn/?target=https://en.wikipedia.org/wiki/Code_page_1386" title="https://en.wikipedia.org/wiki/Code_page_1386">Code Page 936</a>。</li>
<li>2000 年，制定了国标 <a href="https://link.juejin.cn/?target=https://openstd.samr.gov.cn/bzgk/gb/newGbInfo?hcno=4F885660EB8B3AC463C2ED336DB3B67B" title="https://openstd.samr.gov.cn/bzgk/gb/newGbInfo?hcno=4F885660EB8B3AC463C2ED336DB3B67B">GB 18030-2000</a>，目前已作废。</li>
<li>2005 年，制定了国标 <a href="https://link.juejin.cn/?target=https://openstd.samr.gov.cn/bzgk/gb/newGbInfo?hcno=C344D8D120B341A8DD328954A9B27A99" title="https://openstd.samr.gov.cn/bzgk/gb/newGbInfo?hcno=C344D8D120B341A8DD328954A9B27A99">GB 18030-2005</a>，为现行的 GB18030 标准。</li>
<li>2022 年，制定了国标 <a href="https://link.juejin.cn/?target=https://openstd.samr.gov.cn/bzgk/gb/newGbInfo?hcno=A1931A578FE14957104988029B0833D3" title="https://openstd.samr.gov.cn/bzgk/gb/newGbInfo?hcno=A1931A578FE14957104988029B0833D3">GB 18030-2022</a>，2023 年 8 月 1 日生效。</li>
</ul>
<p>前面只介绍了西方国家和中文的编码，放眼全世界，有许多种语言文字，如果各自都搞一套就乱成一锅粥了。如果有一种编码，将世界上所有的符号都纳入其中。给每一个符号赋予一个独一无二的编码，那么相同的二进制值在世界不同国家编码中代表不同的字符乱局就会消失。</p>
<h3 id="Unicode-码统一乱局"><a href="#Unicode-码统一乱局" class="headerlink" title="Unicode 码统一乱局"></a>Unicode 码统一乱局</h3><p>Unicode 码将世界各种语言的每个字符定义一个唯一的编码，以满足跨语言、跨平台的文本信息转换。第一版 发布于 1991 年 ，目前已发展到<a href="https://link.juejin.cn/?target=https://www.unicode.org/versions/Unicode15.0.0/" title="https://www.unicode.org/versions/Unicode15.0.0/">第 15 版</a>。Unicode 字符集的编码范围是 0x0000 - 0x10FFFF , Unicode 的编码空间从<code>U+0000到U+10FFFF</code>，共有 1,112,064 个码位（code point）可用来映射字符，可以容纳一百多万个字符， 每个字符都有一个独一无二的编码，也即每个字符都有一个二进制数值和它对应，这里的二进制数值也叫 码点 , 比如：汉字 “汉” 的 码点是 0x6C49, 大写字母 A 的码点是 0x41, 具体字符对应的 Unicode 编码可以查询 <a href="https://link.juejin.cn/?target=https://unicode.yunser.com/unicode" title="https://unicode.yunser.com/unicode">Unicode 字符编码表</a>。</p>
<p><img src="/img/2023-12-11-unicode/3.jpg" alt="image.png"></p>
<h3 id="Unicode-推行过程中遇到的问题"><a href="#Unicode-推行过程中遇到的问题" class="headerlink" title="Unicode 推行过程中遇到的问题"></a>Unicode 推行过程中遇到的问题</h3><p>Unicode 为每个字符规定了唯一的二进制代码，却没有规定这个二进制代码应该如何存储。例如，汉字的”汉” Unicode 编码是十六进制数 0x6C49，表示这个符号需要 2 个字节。依此类推，表示其它在 Unicode 编码中排序更靠后的符号，需要 3 个或 4 个字节。</p>
<p>这就出现两个问题：</p>
<ol>
<li> 怎样区别 Unicode 和 ASCII 码？计算机无法知道三个字节是表示一个字符的 Unicode 码，还是分别表示三个字符的 ASCII 码。</li>
<li> 英文字母只用一个字节表示就够了，如果按照 Unicode 编码，每个符号用三个或四个字节表示，英文文本文件的体积因此大出二三倍，这对存储来说是很大的浪费。</li>
</ol>
<p>它们造成的结果是：</p>
<ul>
<li>Unicode 在很长一段时间内无法推广，由于 ASCII 字符经过 UTF-16 编码后得到的两个字节，高字节始终是 0×00，很多 C 语言的函数都将此字节视为字符串末尾从而导致无法正确解析文本。因此 UTF-16 刚推出的时候遭到很多西方国家的抵触，大大影响了 Unicode 的推行。</li>
<li>为了平衡 Unicode 浪费存储空间和表达更多字符的问题，出现了多种不同的 Unicode 编码存储格式。</li>
</ul>
<h3 id="UTF-8-问世"><a href="#UTF-8-问世" class="headerlink" title="UTF-8 问世"></a>UTF-8 问世</h3><p>伴随着互联网的普及，强烈需要一种统一的 Unicode 的编码方案, 尤其是跨国商务办公场景。UTF-8 是目前互联网上使用最广的一种 Unicode 的编码实现方式。Unicode 的其它实现方式还有 UTF-16（字符用两个字节或四个字节表示）和 UTF-32（字符用四个字节表示），在浏览器上很少用，在本地文件中用的较多。</p>
<p>UTF-8 最大的特点，就是它是一种“变长”编码方式。它可以使用 1 到 4 个字节表示一个符号，根据不同的符号而变化字节长度。UTF-8 编码规则是：</p>
<ul>
<li><p>对于单字节的符号，字节的第一位设为 0，后面 7 位为这个符号的 Unicode 码。因此对于英文字母，UTF-8 和 ASCII 编码是相同的；</p>
</li>
<li><p>对于 n 字节的符号（n&gt;1），第一个字节的前 n 位都设为 1，第 n+1 位设为 0，后面字节的前两位一律设为 10。剩下的没有提及的二进制位，全部为这个符号的 Unicode 码；<br>下表总结了编码规则，字母 x 表示可用编码的位：</p>
</li>
</ul>
<p>UTF-8 编码方式</p>
<table>
<thead>
<tr>
<th>Unicode 符号范围(十六进制)</th>
<th>二进制表示</th>
</tr>
</thead>
<tbody><tr>
<td>000000-00007F (0-127)</td>
<td>0xxxxxxx</td>
</tr>
<tr>
<td>000080-0007FF (128-2047)</td>
<td>110xxxxx 10xxxxxx</td>
</tr>
<tr>
<td>000800-00FFFF (2048-65535)</td>
<td>1110xxxx 10xxxxxx 10xxxxxx</td>
</tr>
<tr>
<td>010000-10FFFF (65536 以上)</td>
<td>11110xxx 10xxxxxx 10xxxxxx 10xxxxxx</td>
</tr>
</tbody></table>
<p>基于 UTF-8 编码规则，解读 UTF-8 编码就非常简单。如果一个字节的第一位是 0，则这个字节单独就是一个字符；如果第一位是 1，则连续有多少个 1，就表示当前字符占用多少个字节。</p>
<p>还是以汉字的汉为例，演示如何实现 UTF-8 编码：</p>
<p>汉的 Unicode 码是 U+6C49（十进制表示为 27721，二进制表示为 110 1100 0100 1001），根据上表，可以发现 6C49 处在第三行的范围内（0000 0800 - 0000 FFFF），因此汉的 UTF-8 编码需要三个字节，即格式是 1110xxxx 10xxxxxx 10xxxxxx。然后，从汉的最后一个二进制位开始，依次从后向前填入格式中的 x，多出的位补 0。这样就得到了，汉的 UTF-8 编码是 11100110 10110001 10001001，转换成十六进制就是 0xE6B789。</p>
<h3 id="UTF-8-BOM-概念解析"><a href="#UTF-8-BOM-概念解析" class="headerlink" title="UTF-8 BOM 概念解析"></a>UTF-8 BOM 概念解析</h3><p>如下图所示，使用 NodePad++保存文件，选择编码方式时，会看到一个 UTF-8 BOM 的选项，这个选项是什么含义？</p>
<p><img src="/img/2023-12-11-unicode/4.jpg" alt="image.png"></p>
<p>BOM（byte order mark）是为 UTF-16 和 UTF-32 准备的，用于标记字节序（byte order）。Byte Order Mark(BOM)，即字节顺序标记，通常叫做大小端。位于文件开始的地方。用于标记高位在前，还是低位在前。即文件开头有没有 U+FEFF。微软在 UTF-8 中使用 BOM 是因为这样可以把 UTF-8 和 ASCII 等编码明确区分开，但这样的文件在 Windows 之外的操作系统里会带来问题。BOM 不受欢迎主要是在 UNIX 环境下，因为 BOM 本身违反了一个 UNIX 设计的常见原则，就是文档中存在的数据必须可见。BOM 不能作为可见字符被文本编辑器编辑，就这一条很多 UNIX 开发者就不满意。因为很多 UNIX 程序不鸟 BOM。主要问题出在 UNIX 那个所有脚本语言通行的首行#!标示，这东西依赖于 shell 解析，而很多 shell 出于兼容的考虑不检测 BOM，所以加进 BOM 时 shell 会把它解释为某个普通字符输入导致破坏#!标示，这就会造成错误。所以不含 BOM 的 UTF-8 才是标准形式，在 UTF-8 文件中放置 BOM 主要是微软的习惯。BOM 解读规则如下:</p>
<p><img src="/img/2023-12-11-unicode/4.5.jpg" alt="image.png"></p>
<h3 id="相对复杂的-UTF-16-编码"><a href="#相对复杂的-UTF-16-编码" class="headerlink" title="相对复杂的 UTF-16 编码"></a>相对复杂的 UTF-16 编码</h3><p><strong>平面的概念</strong></p>
<p>在了解 UTF-16 之前，我们先看一下平面的概念。Unicode 编码中有很多字符，并不是一次性定义的，而是分区进行定义的。每个区存放 65536 个字符，这称为一个平面，目前共有 17 个平面。第一个平面称为基本平面，它的码点从 0-65535，写成 16 进制就是 U+0000 一 U+FFFF，那剩下的 16 个平面就是辅助平面(除了第二个和第三个平面，<a href="https://link.juejin.cn/?target=https://zhuanlan.zhihu.com/p/51202412" title="https://zhuanlan.zhihu.com/p/51202412">其它的都没有广泛使用，参见此文的平面讲解</a>)，码点范围是 U+10000–U+10FFFF。UTF-16 把 Unicode 字符集的抽象码位映射为 16 位长的整数进行数据存储。 Unicode 字符的码位需要 1 个或者 2 个 16 位长的码元来表示，因此 UTF-16 也是变长字节。</p>
<p><strong>UTF-16 编码规则:</strong></p>
<ul>
<li>编号在 U+0000-U+FFFF 的字符(常用字符集)，直接用两个字节表示</li>
<li>编号在 U+10000-U+10FFFF 之间的字符，需要用四个字节表示</li>
</ul>
<p><img src="/img/2023-12-11-unicode/5.jpg" alt="image.png"></p>
<p>通过上表，可以发现，UTF-16 用二个字节来表示基本平面，用四个字节来表示扩展平面。</p>
<p><strong>编码识别</strong></p>
<p>当遇到两个字节时，怎么知道是把它当做一个字符还是和后面的两个字节一起当做一个字符呢? 在基本平面内，从 U+D800-U+DFFF 是个空段，这个区间的码点不对应任何字符，这些空段被用来映射辅助平面的字符。<br><code>110110xx xxxxxxxx</code>（<code>0xd800</code> - <code>0xdbff</code>）为高位代理（High Surrogate），<code>110111xx xxxxxxxx</code>（<code>0xdc00</code> - <code>0xdfff</code>） 为低位代理(Low Surrogate)。它的作用是告诉计算机，只要碰着了这个区间的数值，就知道扩展平面的字符来了,要把连续两个双字节当做一个字符解码。</p>
<p><img src="/img/2023-12-11-unicode/6.jpg" alt="image.png"></p>
<p>一个高位代理和一个低位代理可以组成一个代理对（Surrogate Pair）。如果 <code>y</code> 和 <code>x</code> 全为 <code>0</code>，则为 <code>0x010000</code> 的代码点，全为 <code>1</code> 则为 <code>0x10ffff</code> 的代码点，刚好能把所有扩展平面全部编码。</p>
<ol>
<li> 如果代码点位于 <code>0x000000</code> - <code>0x00ffff</code>，直接进行二进制编码，位数不够的左边充 0。</li>
<li> 如果代码点位于 <code>0x010000</code> - <code>0x10ffff</code>，则：</li>
</ol>
<ul>
<li>代码点减去 <code>0x10000</code>，会得到一个位于 <code>0x000000</code> 和 <code>0x0fffff</code> 之间的数字。</li>
<li>这个数字转换为 20 位二进制数，位数不够的，左边充 0，记作：<code>yyyy yyyy yyxx xxxx xxxx</code>。</li>
<li>取出 <code>yy yyyyyyyy</code>，并加上 <code>11011000 00000000</code>(<code>0xD800</code>)，得到高位代理。</li>
<li>取出 <code>xx xxxxxxxx</code>，并加上 <code>11011100 00000000</code>(<code>0xDC00</code>)，得到低位代理。</li>
<li>高位代理和低位代理相连，得到 <code>110110yy yyyyyyyy 110111xx xxxxxxxx</code>。</li>
</ul>
<p><strong>举例说明</strong></p>
<p>以“嫦”字为例，它的 Unicode 码点为 0x21800 ，该码点超出了基本平面的范围，因此需要用四个字节来表示，步骤如下:</p>
<ol>
<li> 首先计算超出部分的结果: 0x21800 - 0x10000</li>
<li> 将上面的计算结果转为 20 位的二进制数，不足 20 位就在前面补 0，结果为: 0001 0001 1000 0000 0000</li>
<li> 将得到的两个 10 位二进制数分别对应到两个区间中</li>
<li> 取出 0001000110 并加上 <code>11011000 00000000</code>(<code>0xD800</code>)，得到高位代理 1101100001000110 ，转成 16 进制数为 0xD846 。同理计算低位代理为 0xDC00，所以这个字的 UTF-16 编码为 0xD846 0xDC00</li>
</ol>
<h3 id="最好理解的-UTF-32"><a href="#最好理解的-UTF-32" class="headerlink" title="最好理解的 UTF-32"></a>最好理解的 UTF-32</h3><p>UTF-32 就是字符所对应编号的整数二进制形式，每个字符占四个字节，这个是直接进行转换的。该编码方式占用的储存空间较多，所以使用较少。比如“马”字的 Unicode 编号是 U+9A6C ，整数编号是 39532 ，直接转化为二进制: 1001 1010 0110 1100 ，这就是它的 UTF-32 编码。</p>
<h3 id="为什么-UTF-8-不需要字节序-UTF-16-UTF-32-需要字节序？"><a href="#为什么-UTF-8-不需要字节序-UTF-16-UTF-32-需要字节序？" class="headerlink" title="为什么 UTF-8 不需要字节序,UTF-16,UTF-32 需要字节序？"></a>为什么 UTF-8 不需要字节序,UTF-16,UTF-32 需要字节序？</h3><p>虽然 UTF-8 是变长编码，但是以单字节为编码单元，不存在谁在高低位的问题，由于 UTF-8 的首字节记录了总字节数（比如 3 个），所以读取首字节后，再读取后续字节（2 个），然后进行解码，得到完整的字节数，从而能保证解码也是正确的。</p>
<p>UTF-16 是变长编码，使用 1 个 16-bit 编码单元或者 2 个 16-bit 编码单元，UTF32 是定长编码，使用 2 个 16-bit 编码单元，由于硬件 CPU 的不同，对于一个由 2 个字节组成的 16 位整数，在内存中存储这两个字节有两种方法：一种是将低序字节存储在起始地址，这称为小端(little-endian)字节序；另一种方法是将高序字节存储在起始地址，这称为大端(big-endian)字节序。假如 CPU 是大端序那么高位在前，如果 CPU 是小端序那么低位在前，为了区分，所以有了 BOM（byte order mark），然后计算机才能知道谁是高位，谁是低位，知道了高低位，从而能正确组装，然后才能解码正确。</p>
<h3 id="Unicode、UTF-8、UTF-16、UTF-32-区别"><a href="#Unicode、UTF-8、UTF-16、UTF-32-区别" class="headerlink" title="Unicode、UTF-8、UTF-16、UTF-32 区别?"></a>Unicode、UTF-8、UTF-16、UTF-32 区别?</h3><ul>
<li><p>Unicode 是编码字符集 (字符集) ，而 UTF-8 、UTF-16 、UTF-32 是字符集编码</p>
</li>
<li><p>UTF-16 使用变码元序列的编码方式，相较于定长码元序列的 UTF-32 算法更复杂，甚至比同样是变长码元序列的 UTF-8 也更为复杂</p>
</li>
<li><p>UTF-8 需要判断每个字节中的开头标志信息，所以如果某个字节在传送过程中出错了，就会导致后面的字节也会解析出错；而 UTF-16 不会判断开头标志，即使错也只会错一个字符，所以容错能力较强</p>
</li>
</ul>
<p>如果字符内容全部英文或英文与其它文字混合，但英文占绝大部分，那么用 UTF-8 就比 UTF-16 节省了很多空间; 而如果字符内容全部是中文这样类似的字符或者混合字符中中文占绝大多数，那么 UTF-16 就占优势了，可以节省很多空间。</p>
<h3 id="乱码问题分析"><a href="#乱码问题分析" class="headerlink" title="乱码问题分析"></a>乱码问题分析</h3><p>所谓“乱码”是指应用程序显示出来的字符文本无法用任何语言去解读，通常会包含大量 ? 或 �，造成乱码的根本原因就是因为使用了错误的字符编码去解码字节流，想要解决乱码问题，就先要搞清楚应用程序当前使用的字符编码是什么。</p>
<p><img src="/img/2023-12-11-unicode/7.jpg" alt="image.png"></p>
<p>比如最常见的网页乱码问题。需要从以下三个方面查找原因：</p>
<ul>
<li>网页文件本身存储时使用的字符编码和网页声明的字符编码是否一致</li>
</ul>
<p><img src="/img/2023-12-11-unicode/8.jpg" alt="image.png"></p>
<figure class="highlight html"><table><tr><td class="code"><pre><code class="hljs html"><br><span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">charset</span>=<span class="hljs-string">&quot;utf-8&quot;</span> /&gt;</span><br></code></pre></td></tr></table></figure>

<ul>
<li>服务器返回的响应头 Content-Type 有没有指明字符编码</li>
</ul>
<p><img src="/img/2023-12-11-unicode/9.jpg" alt="image.png"></p>
<ul>
<li>网页内是否使用 META HTTP-EQUIV 标签指定了字符编码</li>
</ul>
<figure class="highlight html"><table><tr><td class="code"><pre><code class="hljs html"><span class="hljs-tag">&lt;<span class="hljs-name">meta</span> <span class="hljs-attr">http-equiv</span>=<span class="hljs-string">&quot;content-type&quot;</span> <span class="hljs-attr">content</span>=<span class="hljs-string">&quot;text/html; charset=UTF-8&quot;</span>&gt;</span><br></code></pre></td></tr></table></figure>

<h3 id="MySQL-中一个中文占用几个字节"><a href="#MySQL-中一个中文占用几个字节" class="headerlink" title="MySQL 中一个中文占用几个字节"></a>MySQL 中一个中文占用几个字节</h3><h4 id="varchar-n-能存储几个汉字？"><a href="#varchar-n-能存储几个汉字？" class="headerlink" title="varchar(n)能存储几个汉字？"></a>varchar(n)能存储几个汉字？</h4><p>varchar(n)表示 n 个字符，一个汉字也被视为一个字符，无论汉字和英文，MySQL 都能存入 n 个字符，区别是实际占用字节长度不同</p>
<h4 id="一个中文汉字占多少字节与编码有关"><a href="#一个中文汉字占多少字节与编码有关" class="headerlink" title="一个中文汉字占多少字节与编码有关"></a>一个中文汉字占多少字节与编码有关</h4><ul>
<li>UTF8：一个中文汉字＝ 3 个字节 (常用汉字是汉字总数中占比较小，常用汉字每个占用 3 个字节，多数不太常用的汉字每个占用 4 个字节)。</li>
<li>GBK：一个中文汉字＝ 2 个字节</li>
</ul>
<h4 id="Unicode-简体中文字符集范围"><a href="#Unicode-简体中文字符集范围" class="headerlink" title="Unicode 简体中文字符集范围"></a>Unicode 简体中文字符集范围</h4><p>Unicode 简体中文字符集的范围是<strong>U+4E00 到 U+9FFF</strong>，共包括 20992 个字符。 其中：</p>
<ul>
<li>U+4E00 到 U+62FF 是常用汉字区</li>
<li>U+6300 到 U+77FF 是次常用汉字区</li>
<li>U+7800 到 U+8CFF 是非常用汉字区</li>
<li>U+8D00 到 U+9FFF 是未分类汉字区</li>
</ul>
<p>除了汉字，这个字符范围还包括了汉语拼音、注音符号、部分汉语方言文字和一些符号等。所以一个简体中文汉字的 Unicode 编码值是用 2 位 16 进制数表示，占用 2 个字节。</p>
<h3 id="转载"><a href="#转载" class="headerlink" title="转载"></a>转载</h3><p><a target="_blank" rel="noopener" href="https://juejin.cn/post/7306416802837954560#heading-17">我说一个中文占 2 个字节，同事说 UTF-8 编码中，一个中文占 3 个字节，到底谁对谁错？</a></p>

    

    

    
    <div class="declare"> 
      <ul class="post-copyright">
        <li>
          <strong>本文作者：</strong>
          luckyship
        </li>
        <li>
          <strong>本文链接：</strong>
          <a href="https://luckyship.github.io/2023/12/11/2023-12-11-unicode/" title="unicode中文字节为什么有的占2个有的占3个" target="_blank">https://luckyship.github.io/2023/12/11/2023-12-11-unicode/</a>
        </li>
        
        <li>
          <strong>版权声明： </strong>
          
          本博客所有文章除特别声明外，均采用 <a href="https://github.com/JoeyBling/hexo-theme-yilia-plus/blob/master/LICENSE" rel="external nofollow" target="_blank">MIT</a> 许可协议。转载请注明出处！
        </li>
        
      </ul>
    </div>
    

  </div>
  <div class="article-info article-info-index">
    
    
	<div class="article-tag tagcloud">
		<i class="icon-price-tags icon"></i>
		<ul class="article-tag-list">
			 
        		<li class="article-tag-list-item">
        			<a href="javascript:void(0)" class="js-tag article-tag-list-link color3">unicode</a>
        		</li>
      		
		</ul>
	</div>

    

    

    
    
<div class="share-btn share-icons tooltip-left">
  <div class="tooltip tooltip-east">
    <span class="tooltip-item">
      <a href="javascript:;" class="share-sns share-outer">
        <i class="icon icon-share"></i>
      </a>
    </span>
    <span class="tooltip-content">
      <div class="share-wrap">
        <div class="share-icons">
          <a class="weibo share-sns" href="javascript:;" data-type="weibo">
            <i class="icon icon-weibo"></i>
          </a>
          <!-- <a class="weixin share-sns wxFab" href="javascript:;" data-type="weixin">
            <i class="icon icon-weixin"></i>
          </a> -->
          <a class="qq share-sns" href="javascript:;" data-type="qq">
            <i class="icon icon-qq"></i>
          </a>
          <a class="douban share-sns" href="javascript:;" data-type="douban">
            <i class="icon icon-douban"></i>
          </a>
          <a class="qzone share-sns" href="javascript:;" data-type="qzone">
            <i class="icon icon-qzone"></i>
          </a>
          <a class="facebook share-sns" href="javascript:;" data-type="facebook">
            <i class="icon icon-facebook"></i>
          </a>
          <a class="twitter share-sns" href="javascript:;" data-type="twitter">
            <i class="icon icon-twitter"></i>
          </a>
          <a class="google share-sns" href="javascript:;" data-type="google">
            <i class="icon icon-google"></i>
          </a>
        </div>
      </div>
    </span>
  </div>
</div>

<div class="page-modal wx-share js-wx-box">
    <a class="close js-modal-close" href="javascript:;"><i class="icon icon-close"></i></a>
    <p>扫一扫，分享到微信</p>
    <div class="wx-qrcode">
     <!-- <img src="//pan.baidu.com/share/qrcode?url=https://luckyship.github.io/2023/12/11/2023-12-11-unicode/" alt="微信分享二维码"> -->
    </div>
</div>

<div class="mask js-mask"></div>

    
    <div class="clearfix"></div>
  </div>
  </div>
</article>


<nav id="article-nav">
  
    <a href="/2024/04/10/2024-04-10-angular-custom-form/" id="article-nav-newer" class="article-nav-link-wrap">
      <i class="icon-circle-left"></i>
      <div class="article-nav-title">
        
          angular form 自定义组件
        
      </div>
    </a>
  
  
    <a href="/2023/11/28/2023-11-28-window-print/" id="article-nav-older" class="article-nav-link-wrap">
      <div class="article-nav-title">window.print 自定义页眉页脚</div>
      <i class="icon-circle-right"></i>
    </a>
  
</nav>


<aside class="wrap-side-operation">
    <div class="mod-side-operation">
        
        <div class="jump-container" id="js-jump-container" style="display:none;">
            <a href="javascript:void(0)" class="mod-side-operation__jump-to-top">
                <i class="icon-font icon-back"></i>
            </a>
            <div id="js-jump-plan-container" class="jump-plan-container" style="top: -11px;">
                <i class="icon-font icon-plane jump-plane"></i>
            </div>
        </div>
        
        
    </div>
</aside>







  <section id="comments" style="margin:10px;padding:10px;background:#fff;">
    <div id="vcomment" class="comment"></div>
<!-- <script src="//cdn1.lncld.net/static/js/3.0.4/av-min.js"></script> -->
<script src="/js/valine.js" async></script>
<script async>
  var notify = 'true' == true ? true : false;
  var verify = 'false' == true ? true : false;
  window.onload = function () {
    new Valine({
      el: '.comment',
      notify: notify,
      verify: verify,
      app_id: '3d3mgdb7guWJsXLE6mWY3Cyn-gzGzoHsz',
      app_key: 'fstd3ABXC89jc5VDSe6ANGV6',
      placeholder: 'Just go go',
      avatar: 'mm',
    });
  };
</script>

  </section>










          </div>
        </div>
      </div>
      <footer id="footer">
  <div class="outer">
    <div id="footer-info">
    	<div class="footer-left">
    		&copy; 2020-2025 <a href="https://luckyship.github.io/" target="_blank">luckyship</a>
    	</div>
      	<div class="footer-right">
			
			
      		GitHub:<a href="https://github.com/JoeyBling/hexo-theme-yilia-plus" target="_blank">hexo-theme-yilia-plus</a> by Litten
      	</div>
    </div>
  </div>

  
	<script async src="/lib/busuanzi.pure.js"></script>
	
  
  
	
	<span id="busuanzi_container_site_pv" style="display:none">
		本站总访问量<span id="busuanzi_value_site_pv"></span>次
	        <span class="post-meta-divider" >|</span>
	</span>
  	<span id="busuanzi_container_site_uv" style='display:none'>
  		本站访客数<span id="busuanzi_value_site_uv"></span>人
  	</span>
  
</footer>

    </div>
    <script>
	var yiliaConfig = {
		mathjax: false,
		isHome: false,
		isPost: true,
		isArchive: false,
		isTag: false,
		isCategory: false,
		open_in_new: false,
		toc_hide_index: true,
		root: "/",
		innerArchive: true,
		showTags: true
	}
</script>




<!--  -->

<script>
  /* 标签页标题切换 */
  var originTitle = document.title;
  var titleTime;
  document.addEventListener("visibilitychange", function () {
    if (document.hidden) {
      document.title = "(つェ⊂) 我藏好了哦~ " + originTitle;
      clearTimeout(titleTime);
    } else {
      document.title = "(*´∇｀*) 被你发现啦~ " + originTitle;
      titleTime = setTimeout(function () {
        document.title = originTitle;
      }, 2000);
    }
  });
</script>



    
<div class="tools-col" q-class="show:isShow,hide:isShow|isFalse" q-on="click:stop(e)">
  <div class="tools-nav header-menu">
    
    
      
      
      
    
      
      
      
    
    

    <ul style="width: 70%">
    
    
      
      <li style="width: 50%" q-on="click: openSlider(e, 'innerArchive')"><a href="javascript:void(0)" q-class="active:innerArchive">搜索</a></li>
      
        
      
      <li style="width: 50%" q-on="click: openSlider(e, 'aboutme')"><a href="javascript:void(0)" q-class="active:aboutme">关于我</a></li>
      
        
    </ul>
  </div>
  <div class="tools-wrap">
    
    	<section class="tools-section tools-section-all" q-show="innerArchive">
        <div class="search-wrap">
          <input class="search-ipt" q-model="search" type="text" placeholder="find something…">
          <i class="icon-search icon" q-show="search|isEmptyStr"></i>
          <i class="icon-close icon" q-show="search|isNotEmptyStr" q-on="click:clearChose(e)"></i>
        </div>
        <div class="widget tagcloud search-tag">
          <p class="search-tag-wording">tag:</p>
          <label class="search-switch">
            <input type="checkbox" q-on="click:toggleTag(e)" q-attr="checked:showTags">
          </label>
          <ul class="article-tag-list" q-show="showTags">
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color1">mongo</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color5">ruby</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color5">dataTable</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color4">web</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color1">javascript</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color1">linux</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color3">network</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color5">base</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color1">rails</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color4">git</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color4">css</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color2">docker</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color1">kubernetes</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color2">centos</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color5">html</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color2">debian</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color2">ubuntu</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color2">nodejs</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color5">hexo</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color2">jquery</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color4">es6</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color4">npm</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color1">video</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color1">nginx</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color4">vue</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color1">+ vue</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color3">angular</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color5">sass</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color5">less</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color3">angualr</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color1">typescript</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color1">react</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color3">js</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color2">regexp</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color2">vscode</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color1">regex</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color2">review</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color5">tool</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color3">flutter</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color3">unicode</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color4">sql</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color1">postgresql</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color5">vite</a>
              </li>
             
              <li class="article-tag-list-item">
                <a href="javascript:void(0)" class="js-tag color3">go</a>
              </li>
            
            <div class="clearfix"></div>
          </ul>
        </div>
        <ul class="search-ul">
          <p q-show="jsonFail" style="padding: 20px; font-size: 12px;">
            缺失模块。<br/>1、请确保node版本大于6.2<br/>2、在博客根目录（注意不是yilia-plus根目录）执行以下命令：<br/> npm i hexo-generator-json-content --save<br/><br/>
            3、在根目录_config.yml里添加配置：
<pre style="font-size: 12px;" q-show="jsonFail">
  jsonContent:
    meta: false
    pages: false
    posts:
      title: true
      date: true
      path: true
      text: false
      raw: false
      content: false
      slug: false
      updated: false
      comments: false
      link: false
      permalink: false
      excerpt: false
      categories: false
      tags: true
</pre>
          </p>
          <li class="search-li" q-repeat="items" q-show="isShow">
            <a q-attr="href:path|urlformat" class="search-title"><i class="icon-quo-left icon"></i><span q-text="title"></span></a>
            <p class="search-time">
              <i class="icon-calendar icon"></i>
              <span q-text="date|dateformat"></span>
            </p>
            <p class="search-tag">
              <i class="icon-price-tags icon"></i>
              <span q-repeat="tags" q-on="click:choseTag(e, name)" q-text="name|tagformat"></span>
            </p>
            <a q-attr="href:path|urlformat">
              <p class="search-content" q-show="matchContent.val">
                <span q-text="matchContent.pre"></span><span class="red" q-text="matchContent.val"></span><span q-text="matchContent.next"></span>
              </p>
            </a>
          </li>
        </ul>
    	</section>
    

    

    
    	<section class="tools-section tools-section-me" q-show="aboutme">
        
          
  	  		<div class="aboutme-wrap" id="aboutme">前端攻城狮<br>记录分享自己工作、学习中学到的知识</div>
  	  	
    	</section>
    
  </div>
  
</div>
    <!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    <!-- Background of PhotoSwipe. 
         It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>

    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">

        <!-- Container that holds slides. 
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                <!--  Controls are self-explanatory. Order can be changed. -->

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" style="display:none" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                <!-- Preloader demo http://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                      <div class="pswp__preloader__cut">
                        <div class="pswp__preloader__donut"></div>
                      </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div> 
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div>
  </div>

  
  
<script
  type="text/javascript"
  src="/plugins/activate-power-mode/activate-power-mode.js"
></script>
<script>
  document.addEventListener('DOMContentLoaded',function(){
    POWERMODE.colorful = true; // make power mode colorful
    POWERMODE.shake = false; // turn off shake
    document.body.addEventListener('input', POWERMODE);
  });
</script>


  
  <!-- <script async type="text/javascript" size="90" alpha="0.2" zIndex="0" src="/plugins/ribbon.js/ribbon.min.js"></script> -->
  
  
  
</body>

</html>
